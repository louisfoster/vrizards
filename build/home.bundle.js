!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){h=document.getElementById("container"),H=new THREE.WebGLRenderer({antialias:!0}),H.setSize(window.innerWidth,window.innerHeight),h.appendChild(H.domElement),window.addEventListener("resize",function(e){H.setSize(window.innerWidth,window.innerHeight)},!1)}function a(){R.default.init(M)}function r(){T=new THREE.StereoEffect(H),T.setSize(window.innerWidth,window.innerHeight),T.separation=.03175}function u(){y=new THREE.Scene,M=new THREE.PerspectiveCamera(90,window.innerWidth/window.innerHeight,.1,4e3),y.add(M),y.add(w.default.init());var e=new THREE.AudioListener;M.add(e);var n=new THREE.AudioLoader;B=new THREE.Audio(e),n.load("../src/home/videos/tractor.mp3",function(e){B.setBuffer(e),B.setLoop(!0),B.setVolume(.02),B.play()});var t=new THREE.AmbientLight(2236962);y.add(t);var i=new THREE.DirectionalLight(12303291);i.position.set(0,200,50).normalize(),y.add(i),l()}function l(){var e=new THREE.OBJLoader;e.setPath("../src/home/obj/"),e.load("tractorbody.obj",function(e){var n=new THREE.MeshPhongMaterial({color:14492177});e.traverse(function(e){e instanceof THREE.Mesh&&(e.material=n)}),L=e,e.position.x=0,e.position.y=-6,e.position.z=1,e.scale.x=12,e.scale.y=12,e.scale.z=12,y.add(e)}),e.load("tracwheels.obj",function(e){var n=new THREE.MeshLambertMaterial({color:3355443});e.traverse(function(e){e instanceof THREE.Mesh&&(e.material=n)}),e.position.x=0,e.position.y=-3.5,e.position.z=-1.8,e.scale.x=12,e.scale.y=12,e.scale.z=12,z=e,y.add(e)});var n=t(4),i=new THREE.TextureLoader;i.load(n,function(e){var n=new THREE.MeshBasicMaterial({map:e}),t=new THREE.PlaneGeometry(2,2,2);g=new THREE.Mesh(t,n),g.position.z=-2,g.position.y=-1,g.rotation.x=Math.PI/-4,y.add(g)});var o=t(5);i.load(o,function(e){var n=F=new THREE.MeshBasicMaterial({map:e}),t=new THREE.CubeGeometry(.5,.5,.5);x=new THREE.Mesh(t,n),R.default.add(x,function(){x.material=C},function(){x.material=F,w.default.play(),B.play(),E()},function(){w.default.stop(),B.pause(),f()}),x.position.z=-1.95,x.position.y=-.85,x.rotation.x=Math.PI/-4,y.add(x)});var a=t(6);i.load(a,function(e){C=new THREE.MeshBasicMaterial({map:e})})}function s(){b=new THREE.DeviceOrientationControls(M)}function d(){if(z&&A){var e=Date.now(),n=e-_;_=e;var t=n/O,i=2*Math.PI*t;z.rotation.x-=i}}function c(){k+=S.getElapsedTime(),k>5e3&&(G=!0),requestAnimationFrame(c),P?T.render(y,M):H.render(y,M),b.update(),R.default.update(),d(),L&&(G?(L.visible=!0,z.visible=!0,g.visible=!0,x.visible=!0):(L.visible=!1,z.visible=!1,g.visible=!1,x.visible=!1))}function f(){A=!1}function E(){A=!0}function p(){document.querySelector("#btn-vr").addEventListener("click",function(){P=!P,h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen()},!1)}t(1);var v=t(2),w=i(v),m=t(3),R=i(m),h=null,H=null,T=null,b=null,y=null,M=null,g=null,x=null,z=null,L=null,P=!0,A=!0,B=null,G=!1,S=new THREE.Clock,k=0;o(),r(),u(),s(),a(),c(),p();var F=void 0,C=void 0,O=1e4,_=Date.now()},function(e,n){},function(e,n){"use strict";function t(e){var n=new THREE.SphereBufferGeometry(500,60,40);n.scale(-1,1,1),a=document.createElement("video"),a.width=640,a.height=360,a.loop=!1,a.muted=!0,a.src="../src/home/videos/tractor1.mp4",a.setAttribute("webkit-playsinline","true"),a.setAttribute("playsinline","true"),a.onended=function(){console.log("ended")},a.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation()},!1),a.hasAttribute("controls")&&a.removeAttribute("controls"),a.play();var t=new THREE.VideoTexture(a);t.minFilter=THREE.LinearFilter,t.format=THREE.RGBFormat;var i=new THREE.MeshBasicMaterial({map:t}),o=new THREE.Mesh(n,i);return o.rotation.y=Math.PI/2,o}function i(){a.play()}function o(){a.pause()}Object.defineProperty(n,"__esModule",{value:!0});var a=void 0;n.default={init:t,play:i,stop:o}},function(e,n){"use strict";function t(e){Reticulum.init(e,{proximity:!1,reticle:{visible:!0,restPoint:1e3,color:13369344,innerRadius:1e-4,outerRadius:.003,hover:{color:13369344,innerRadius:.02,outerRadius:.024,speed:5,vibrate:50}},fuse:{visible:!0,duration:2.5,color:65526,innerRadius:.045,outerRadius:.06,vibrate:0,clickCancelFuse:!1}})}function i(e,n,t,i){Reticulum.add(e,{onGazeOver:function(){n&&n()},onGazeOut:function(){t&&t()},onGazeLong:function(){i&&i()},onGazeClick:function(){}})}function o(){Reticulum.update()}Object.defineProperty(n,"__esModule",{value:!0}),n.default={init:t,update:o,add:i}},function(e,n,t){e.exports=t.p+"img/panel.png"},function(e,n,t){e.exports=t.p+"img/look.png"},function(e,n,t){e.exports=t.p+"img/look2.png"}]);
//# sourceMappingURL=home.bundle.js.map